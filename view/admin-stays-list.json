{
    "file-name": "admin-stays-list",
    "type": "View?Data;state.stay-list-grid-view-display=grid;state.stay-list-table-view-display=none",
    "controls": { "actions": "search?search.api=stay;search.update=stay-list-view;search.state=stay-list-Data" },
    "children": [{
        "type": "View?class=flex-box;style.width=100%;style.marginBottom=2.5rem;style.justifyContent=space-between",
        "children": [{
            "type": "Text?text=Stay List;style.fontSize=1.8rem;style.color=#444;style.fontWeight=500"
        }, {
            "type": "View?class=flex-box",
            "children": [{
                "type": "Button?text=Import;icon.name=bi-download;style.marginRight=1rem",
                "tooltip": "Import multiple products to store at once"
            }, {
                "type": "Button?text=Export;icon.name=bi-upload;style.marginRight=1rem",
                "tooltip": "Export all products to a CSV file"
            }, {
                "type": "Button?text=Add New Stay;icon.name=bi-plus;style.marginRight=1rem",
                "controls": [{
                    "actions": "createControls?controls.type=mini-window;controls.view=stay"
                }]
            }]
        }]
    }, {
        "type": "View?style.padding=1rem;style.borderRadius=.5rem;style.border=1px solid #eee",
        "children": [{
            "type": "View?class=flex-box;style.paddingBottom=1rem;style.borderBottom=1px solid #eee",
            "children": [{
                "type": "Input?featured;!removable;!clearable;icon.name=bi-search;icon.style.fontSize=1.8rem",
                "placeholder": "Search by hotel name, city, type, description...",
                "style": {
                    "height": "4rem",
                    "backgroundColor": "#fff",
                    "border": "1px solid #ddd",
                    "color": "#666",
                    "borderRadius": ".75rem",
                    "marginRight": "1rem"
                },
                "controls": [{
                    "event": "keyup>>200??state.stay-list-Data",
                    "actions": "filter?filter.backup=state.stay.values();filter.path=name.en;filter.Data=stay-list-Data;filter.value=e.target.value;filter.update=global.stay-list-view.1stChild().id<<global.stay-list-view.1stChild().element.style.display=grid;filter.update=global.stay-list-view.2ndChild().2ndChild().id<<global.stay-list-view.2ndChild().element.style.display=grid"
                }]
            }, {
                "type": "Button?text=Sort;icon.name=bi-sort-alpha-down",
                "controls": {
                    "event": "click??state.stay-list-Data", 
                    "actions": "sort?sort.path=name.en;sort.Data=stay-list-Data;sort.update=global.stay-list.1stChild().id<<global.stay-list.1stChild().element.style.display=grid;sort.update=global.stay-list.2ndChild().2ndChild().id<<global.stay-list.2ndChild().element.style.display=grid"
                }
            }, {
                "type": "Button?text=Collection;icon.name=bi-ui-checks-grid;droplist.items=[Collections>>readonly]"
            }, {
                "type": "Button?text=Country;icon.name=bi-flag;droplist.items=[Countries>>readonly,state.asset.country.options.map().name.en].flat()"
            }, {
                "type": "Button?text=City;icon.name=bi-map;droplist.items=[Syria Cities>>readonly,state.asset[state[value.Data++-options].filter.country.toLowerCase()<<state[value.Data++-options]||syria].options.map().name.en];droplist.flat()"
            }, {
                "type": "Button?text=Stars;icon.name=bi-star;droplist.items=[Stars>>readonly,state.asset.hotel-stars.options.map().name.en].flat()"
            }, {
                "type": "Button?text=View;icon.name=bi-list-ul",
                "controls": {
                    "event": "click", 
                    "actions": [
                        "setStyle::global.stay-list-view.1stChild().id?style.display=none<<global.stay-list-view.1stChild().element.style.display=grid;style.display=grid>>50<<global.stay-list-view.1stChild().element.style.display=none",
                        "setStyle::global.stay-list-view.2ndChild().id?style.display=none<<global.stay-list-view.2ndChild().element.style.display=grid;style.display=grid>>50<<global.stay-list-view.2ndChild().element.style.display=none",
                        "?state.stay-list-grid-view-display=global.stay-list-view.1stChild().element.style.display;state.stay-list-table-view-display=global.stay-list-view.2ndChild().element.style.display"
                    ]
                }
            }]
        }, {
            "type": "View?id=stay-list-view;style.display=flex;style.flexDirection=column;style.width=100%",
            "children": [{
                "type": "View?style.display=state.stay-list-grid-view-display;style.gap=1rem;style.gridTemplateColumns=1fr 1fr 1fr 1fr 1fr 1fr 1fr;style.marginTop=1rem;flicker",
                "children": [{
                    "type": "[View]?class=flex-box;Data=stay-list-Data;data=state.stay-list-Data;touchableOpacity?state.stay",
                    "style": {
                        "borderRadius": ".75rem",
                        "border": "1px solid #ddd",
                        "minHeight": "8rem",
                        "cursor": "pointer",
                        "transition": "border .1s",
                        "after": {
                            "border": "1px solid #ee384e"
                        }
                    },
                    "controls": [{
                        "actions": "createControls?controls.type=hoverable;controls.id=[value.id,value.1stChild().id]" 
                    }, {
                        "actions": "createControls?controls.type=mini-window;controls.view=stay"
                    }],
                    "children": [{
                        "type": "Text?text=value.data().name.en<<value.data().name;style.fontSize=1.3rem;style.after.color=#ee384e;style.transition=color .1s"
                    }]
                }]
            }, {
                "type": "View?style.display=state.stay-list-table-view-display;style.gridTemplateColumns=1fr;style.gap=1px;flicker",
                "children": [{
                    "type": "View?style.display=grid;style.alignItems=center;style.gridTemplateColumns=1fr 1fr 1fr 2fr;style.height=5.5rem;style.borderBottom=1px solid #eee;style.padding=0 1rem",
                    "children": [{
                        "type": "View",
                        "children": [{
                            "type": "Text?text=Name;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                            "controls": {
                                "event": "click", 
                                "actions": "sort?sort.path=name.en;sort.Data=stay-list-Data;sort.update=value.parent().parent().next().id?state.stay-list-Data"
                            }
                        }]
                    }, {
                        "type": "View",
                        "children": [{
                            "type": "Text?text=City;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                            "controls": {
                                "event": "click", 
                                "actions": "sort?sort.path=city.en;sort.Data=stay-list-Data;sort.update=value.parent().parent().next().id?state.stay-list-Data"
                            }
                        }]
                    }, {
                        "type": "View",
                        "children": [{
                            "type": "Text?text=Stars;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                            "controls": {
                                "event": "click", 
                                "actions": "sort?sort.path=stars;sort.Data=stay-list-Data;sort.update=value.parent().parent().next().id?state.stay-list-Data"
                            }
                        }]
                    }, {
                        "type": "Text?text=Actions;style.fontSize=1.4rem;style.fontWeight=bolder;style.width=100%;style.textAlign=right;style.paddingRight=2rem"
                    }]
                }, {
                    "type": "View?style.display=grid;style.gridTemplateColumns=1fr;style.gap=1px;flicker",
                    "children": [{
                        "type": "[View]?style.display=grid;style.alignItems=center;style.gridTemplateColumns=1fr 1fr 1fr 2fr;style.height=5.5rem;Data=stay-list-Data;data=state.stay-list-data;style.borderBottom=1px solid #eee;style.padding=0 1rem?state.stay",
                        "children": [{
                            "type": "Text?text=value.data().name.en<<value.data().name;style.fontSize=1.4rem"
                        }, {
                            "type": "Text?text=value.data().city.en<<value.data().city;style.fontSize=1.4rem"
                        }, {
                            "type": "Text?text=value.data().stars;style.fontSize=1.4rem"
                        }, {
                            "type": "View?class=flex-box;style.justifyContent=flex-end;style.width=100%",
                            "children": [{
                                "type": "Icon?class=flex-box;icon.name=bi-three-dots;hoverable;actionlist.placement=left",
                                "style": {
                                    "cursor": "pointer",
                                    "color": "#116dff",
                                    "fontSize": "2.5rem",
                                    "height": "4rem",
                                    "width": "4rem",
                                    "borderRadius": "4rem",
                                    "transition": "all 0.2s",
                                    "marginRight": "1rem",
                                    "after": { "backgroundColor": "#eee" }
                                }
                            }]
                        }]
                    }]
                }]
            }]
        }]
    }]
}