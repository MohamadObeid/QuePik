{
    "file-name": "booking-list",
    "type": "View?Data;state.booking-list-grid-view-display=grid;state.booking-list-table-view-display=none;state.booking-list-Data=[]",
    "controls": {
        "actions": "await.update::booking-list-view;async.search?search.path=booking;await.state.booking-list-Data=value.search.data;await.state.booking=value.search.data" 
    },
    "children": [{
        "type": "View?class=flex-box;style.width=100%;style.marginBottom=2.5rem;style.justifyContent=space-between",
        "children": [{
            "type": "Text?text=Booking List;style.fontSize=1.8rem;style.color=#444;style.fontWeight=500"
        }, {
            "type": "View?class=flex-box",
            "children": [{
                "type": "Button?text=Import;icon.name=bi-download;style.marginRight=1rem"
            }, {
                "type": "Button?text=Export;icon.name=bi-upload;style.marginRight=1rem"
            }, {
                "type": "Button?text=Add New Booking;icon.name=bi-plus;style.marginRight=1rem;miniWindow.view=booking"
            }]
        }]
    }, {
        "type": "View?style.padding=1rem;style.borderRadius=.5rem;style.border=1px solid #eee",
        "children": [{
            "type": "View?class=flex-box;style.paddingBottom=1rem;style.borderBottom=1px solid #eee;style.justifyContent=space-between",
            "children": [{
                "type": "Input?featured;!removable;!clearable;icon.name=bi-search;icon.style.fontSize=1.8rem;style.height=4rem;style.backgroundColor=#fff;style.border=1px solid #ddd;style.color=#666;style.borderRadius=.75rem;style.marginRight=1rem;style.maxWidth=50rem",
                "placeholder": "Search by id, service, user, provider, status...",
                "controls": {
                    "event": "keyup>>200??state.booking-list-Data",
                    "actions": "await.update::booking-list-view;async.filter?filter.backup=state.booking.clone();filter.path=[id,service.name,user.name,time,date,provider.name,status,payment.payable.lbp];filter.Data=booking-list-Data;filter.value=e.target.value"
                }
            }, {
                "type": "View?class=flex-box",
                "children": [{
                    "type": "Button?text=Pending;icon.name=markunread_mailbox;icon.google;icon.outlined",
                    "controls": {
                        "event": "click??state.booking-list-Data", 
                        "actions": "await.update::booking-list-view;async.filter?filter.backup=state.booking.clone();filter.path=status;filter.Data=booking-list-Data;filter.value=pending confirmation<<state.booking-list-Data-options.filter!=pending confirmation;filter.value=''<<state.booking-list-Data-options.filter=pending confirmation"
                    }
                }, {
                    "type": "Button?text=Open;icon.name=hourglass_empty;icon.google;icon.outlined",
                    "controls": {
                        "event": "click??state.booking-list-Data", 
                        "actions": "await.update::booking-list-view;async.filter?filter.backup=state.booking.clone();filter.path=status;filter.Data=booking-list-Data;filter.value=confirmed<<state.booking-list-Data-options.filter!=confirmed;filter.value=''<<state.booking-list-Data-options.filter=confirmed"
                    }
                }, {
                    "type": "Button?text=Closed;icon.name=check;icon.google;icon.outlined",
                    "controls": {
                        "event": "click??state.booking-list-Data",
                        "actions": "await.update::booking-list-view;async.filter?filter.backup=state.booking.clone();filter.path=status;filter.Data=booking-list-Data;filter.value=closed<<state.booking-list-Data-options.filter!=closed;filter.value=''<<state.booking-list-Data-options.filter=closed"
                    }
                }, {
                    "type": "Button?text=Canceled;icon.name=close;icon.google;icon.outlined",
                    "controls": {
                        "event": "click??state.booking-list-Data", 
                        "actions": "await.update::booking-list-view;async.filter?filter.backup=state.booking.clone();filter.path=status;filter.Data=booking-list-Data;filter.value=canceled<<state.booking-list-Data-options.filter!=canceled;filter.value=''<<state.booking-list-Data-options.filter=canceled"
                    }
                }, {
                    "type": "Button?text=Sort;icon.name=bi-sort-alpha-down",
                    "controls": {
                        "event": "click??state.booking-list-Data", 
                        "actions": "await.update::booking-list-view;async.sort?sort.path=date;sort.Data=booking-list-Data"
                    }
                }, {
                    "type": "Button?text=View;icon.name=bi-list-ul",
                    "controls": {
                        "event": "click?await.state.booking-list-grid-view-display=global.booking-list-view.1stChild().element.style.display;await.state.booking-list-table-view-display=global.booking-list-view.2ndChild().element.style.display", 
                        "actions": [
                            "setStyle::global.booking-list-view.1stChild().id?style.display=none<<global.booking-list-view.1stChild().element.style.display=grid;style.display=grid<<global.booking-list-view.1stChild().element.style.display=none",
                            "setStyle::global.booking-list-view.2ndChild().id?style.display=none<<global.booking-list-view.2ndChild().element.style.display=grid;style.display=grid<<global.booking-list-view.2ndChild().element.style.display=none"
                        ]
                    }
                }]
            }]
        }, {
            "type": "View?id=booking-list-view;style.display=flex;style.flexDirection=column;style.width=100%",
            "children": [{
                "type": "View?style.display=state.booking-list-grid-view-display;style.gap=1rem;style.gridTemplateColumns=1fr 1fr 1fr;style.marginTop=1rem;flicker",
                "children": [{
                    "type": "[View]?class=flex-box pointer;Data=booking-list-Data;touchableOpacity;style.padding=2rem;style.flexDirection=column;style.borderRadius=.75rem;style.border=1px solid #ddd;style.minHeight=8rem;style.transition=border .1s;style.after.border=1px solid #ee384e?state.booking-list-Data;state.booking-list-Data.length()!=0",
                    "controls": {
                        "event": "load",
                        "actions": "toControls?hoverable.id=[value.id,value.1stChild().1stChild().children().0.id,value.1stChild().1stChild().children().1.id,value.1stChild().1stChild().children().2.id,value.1stChild().2ndChild().children().0.id,value.1stChild().2ndChild().children().1.id,value.1stChild().2ndChild().children().2.id];miniWindow.view=booking"
                    },
                    "children": [{
                        "type": "View?class=flex-box;style.justifyContent=space-between;style.width=100%",
                        "children": [{
                            "type": "View?style.display=grid;style.gap=.7rem",
                            "children": [{
                                "type": "Text?class=left;text=value.data.user.name;style.fontSize=1.3rem;style.after.color=#ee384e;style.color=#666;style.transition=color .1s"
                            }, {
                                "type": "Text?class=left;text=value.data.provider.name;style.fontSize=1.3rem;style.after.color=#ee384e;style.color=#666;style.transition=color .1s"
                            }, {
                                "type": "Text?class=left;text=value.data.service.name;style.fontSize=1.3rem;style.after.color=#ee384e;style.color=#666;style.transition=color .1s"
                            }]
                        }, {
                            "type": "View?style.display=grid;style.gap=.7rem",
                            "children": [{
                                "type": "Text?class=right;text=value.data.status;style.flexWrap=wrap;style.fontSize=1.3rem;style.color=#666;style.after.color=#ee384e;style.transition=color .1s"
                            }, {
                                "type": "Text?class=right;text=value.data.date;style.flexWrap=wrap;style.fontSize=1.3rem;style.color=#666;style.after.color=#ee384e;style.transition=color .1s"
                            }, {
                                "type": "Text?class=right;text=value.data.time;style.flexWrap=wrap;style.fontSize=1.3rem;style.color=#666;style.after.color=#ee384e;style.transition=color .1s"
                            }]
                        }]
                    }]
                }]
            }, {
                "type": "View?style.display=state.booking-list-table-view-display;style.gridTemplateColumns=1fr;style.gap=1px;flicker",
                "children": [{
                    "type": "View?style.display=grid;style.alignItems=center;style.gridTemplateColumns=5rem 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;style.minHeight=5.5rem;style.borderBottom=1px solid #eee;style.padding=0 1rem;style.gap=1rem",
                    "children": [{
                        "type": "Text?text=Active;touchableOpacity;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                        "controls": {
                            "event": "click",
                            "actions": "await.update::value.parent().next().id;sort?sort.path=active;sort.Data=booking-list-Data?state.booking-list-Data"
                        }
                    }, {
                        "type": "Text?text=Date;touchableOpacity;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                        "controls": {
                            "event": "click",
                            "actions": "await.update::value.parent().next().id;sort?sort.path=date;sort.Data=booking-list-Data?state.booking-list-Data"
                        }
                    }, {
                        "type": "Text?text=Time;touchableOpacity;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                        "controls": {
                            "event": "click",
                            "actions": "await.update::value.parent().next().id;sort?sort.path=time;sort.Data=booking-list-Data?state.booking-list-Data"
                        }
                    }, {
                        "type": "Text?text=User;touchableOpacity;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                        "controls": {
                            "event": "click", 
                            "actions": "await.update::value.parent().next().id;sort?sort.path=user.name;sort.Data=booking-list-Data?state.booking-list-Data"
                        }
                    }, {
                        "type": "Text?text=Service;touchableOpacity;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                        "controls": {
                            "event": "click", 
                            "actions": "await.update::value.parent().next().id;sort?sort.path=service.name;sort.Data=booking-list-Data?state.booking-list-Data"
                        }
                    }, {
                        "type": "Text?text=Provider;touchableOpacity;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                        "controls": {
                            "event": "click", 
                            "actions": "await.update::value.parent().next().id;sort?sort.path=provider.name;sort.Data=booking-list-Data?state.booking-list-Data"
                        }
                    }, {
                        "type": "Text?text=Booking Status;touchableOpacity;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                        "controls": {
                            "event": "click", 
                            "actions": "await.update::value.parent().next().id;sort?sort.path=status;sort.Data=booking-list-Data?state.booking-list-Data"
                        }
                    }, {
                        "type": "Text?text=Payable;touchableOpacity;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                        "controls": {
                            "event": "click", 
                            "actions": "await.update::value.parent().next().id;sort?sort.path=payment.payable.lbp;sort.Data=booking-list-Data?state.booking-list-Data"
                        }
                    }, {
                        "type": "Text?text=Payment Status;touchableOpacity;style.fontSize=1.4rem;style.fontWeight=bolder;style.cursor=pointer;style.width=fit-content",
                        "controls": {
                            "event": "click", 
                            "actions": "await.update::value.parent().next().id;sort?sort.path=payment.status;sort.Data=booking-list-Data?state.booking-list-Data"
                        }
                    }, {
                        "type": "Text?text=Actions;style.fontSize=1.4rem;style.fontWeight=bolder;style.width=100%;style.textAlign=right;style.paddingRight=2rem"
                    }]
                }, {
                    "type": "View?style.display=grid;style.gridTemplateColumns=1fr;flicker",
                    "children": [{
                        "type": "[View]?style.after.backgroundColor=#f0f0f0;style.display=grid;style.alignItems=center;style.gridTemplateColumns=5rem 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;style.minHeight=5.5rem;Data=booking-list-Data;data=state.booking-list-data;style.borderBottom=1px solid #eee;style.padding=0 1rem;style.gap=1rem;hoverable?state.booking-list-Data;state.booking-list-Data.length()!=0",
                        "children": [{
                            "type": "Icon?icon.name=bi-circle<<!value.data.active;icon.name=bi-circle-fill<<value.data.active;style.fontSize=1.4rem;style.color=lime<<value.data.active;style.color=#ddd<<!value.data.active;style.textAlign=center"
                        }, {
                            "type": "Text?class=dots;text=value.data.date;style.fontSize=1.4rem"
                        }, {
                            "type": "Text?class=dots;text=value.data.time;style.fontSize=1.4rem"
                        }, {
                            "type": "Text?class=dots;text=value.data.user.name;style.fontSize=1.4rem"
                        }, {
                            "type": "Text?class=dots;text=value.data.service.name;style.fontSize=1.4rem"
                        }, {
                            "type": "Text?class=dots;text=value.data.provider.name;style.fontSize=1.4rem"
                        }, {
                            "type": "Text?class=dots;text=value.data.status;style.fontSize=1.4rem"
                        }, {
                            "type": "Text?class=dots;text=value.data.payment.payable.lbp;style.fontSize=1.4rem"
                        }, {
                            "type": "Text?class=dots;text=value.data.payment.status;style.fontSize=1.4rem"
                        }, {
                            "type": "View?class=flex-box;style.justifyContent=flex-end;style.width=100%;style.marginRight=1rem",
                            "children": [{
                                "type": "Icon?class=flex-box pointer;style.color=#666;style.after.color=#116dff;style.borderRadius=3rem;style.marginRight=.5rem;style.fontSize=2.2rem;style.height=4rem;style.width=4rem;style.transition=all .2s;style.after.backgroundColor=#fff;icon.name=edit;icon.google;icon.outlined;hoverable;miniWindow.view=booking"
                            }, {
                                "type": "Icon?class=flex-box pointer;style.color=#666;style.after.color=red;style.borderRadius=3rem;style.fontSize=2.2rem;style.height=4rem;style.width=4rem;style.transition=all .2s;style.after.backgroundColor=#fff;icon.name=delete;icon.google;icon.outlined;hoverable;popup.path=booking;popup.update=booking-list-view;popup.note=Booking removed successfully!;popup.type=eraser;popup.text=Do you want to delete this booking/?"
                            }]
                        }]
                    }]
                }]
            }]
        }]
    }]
}